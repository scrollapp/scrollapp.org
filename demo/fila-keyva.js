"use strict";
class FilaKeyva extends Fila {
    /** */
    static use() {
        if (typeof Keyva === "undefined")
            throw "Cannot use FileKeyva because Keyva library was not found";
        Fila.setDefaults(FilaKeyva, "/", "/", "/__temp/");
    }
    static keyva;
    /** */
    constructor(components) {
        super(components);
        FilaKeyva.keyva ||= new Keyva({ name: "fila" });
    }
    /** */
    async readText() {
        return await FilaKeyva.keyva.get(this.path);
    }
    /** */
    async readBinary() {
        const value = await FilaKeyva.keyva.get(this.path);
        return value instanceof ArrayBuffer ?
            value :
            new TextEncoder().encode(value);
    }
    /** */
    async readDirectory() {
        const filas = [];
        const range = Keyva.prefix(this.path + "/");
        const contents = await FilaKeyva.keyva.each({ range }, "keys");
        for (const key of contents)
            if (typeof key === "string")
                filas.push(Fila.new(key));
        return filas;
    }
    /** */
    async writeText(text, options) {
        let current = this.up();
        const missingFolders = [];
        for (;;) {
            if (await current.exists())
                break;
            missingFolders.push(current);
            if (current.up().path === current.path)
                break;
            current = current.up();
        }
        for (const folder of missingFolders)
            await folder.writeDirectory();
        if (options?.append)
            text = ("" + (await FilaKeyva.keyva.get(this.path) || "")) + text;
        await FilaKeyva.keyva.set(this.path, text);
    }
    /** */
    async writeBinary(arrayBuffer) {
        await FilaKeyva.keyva.set(this.path, arrayBuffer);
    }
    /** */
    async writeDirectory() {
        if (await this.isDirectory())
            return;
        if (await this.exists())
            throw new Error("A file already exists at this location.");
        await FilaKeyva.keyva.set(this.path, null);
    }
    /**
     * Writes a symlink file at the location represented by the specified
     * Fila object, to the location specified by the current Fila object.
     */
    async writeSymlink(at) {
        throw new Error("Not implemented");
    }
    /**
     * Deletes the file or directory that this Fila object represents.
     */
    async delete() {
        if (await this.isDirectory()) {
            const range = Keyva.prefix(this.path + "/");
            await FilaKeyva.keyva.delete(range);
        }
        await FilaKeyva.keyva.delete(this.path);
    }
    /** */
    async move(target) {
        throw new Error("Not implemented.");
    }
    /** */
    async copy(target) {
        throw new Error("Not implemented.");
    }
    /** */
    watchProtected(recursive, callbackFn) {
        throw new Error("Not implemented");
        return () => { };
    }
    /** */
    async rename(newName) {
        throw new Error("Not implemented.");
    }
    /** */
    async exists() {
        const value = await FilaKeyva.keyva.get(this.path);
        return value !== undefined;
    }
    /** */
    async getSize() {
        return 0;
    }
    /** */
    async getModifiedTicks() {
        return 0;
    }
    /** */
    async getCreatedTicks() {
        return 0;
    }
    /** */
    async getAccessedTicks() {
        return 0;
    }
    /** */
    async isDirectory() {
        return await FilaKeyva.keyva.get(this.path) === null;
    }
}
(function (FilaKeyva) {
    typeof module === "object" && Object.assign(module.exports, { FilaKeyva });
})(FilaKeyva || (FilaKeyva = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsYS1rZXl2YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL0ZpbGFLZXl2YS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsTUFBTSxTQUFVLFNBQVEsSUFBSTtJQUUzQixNQUFNO0lBQ04sTUFBTSxDQUFDLEdBQUc7UUFFVCxJQUFJLE9BQU8sS0FBSyxLQUFLLFdBQVc7WUFDL0IsTUFBTSwwREFBMEQsQ0FBQztRQUVsRSxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFFTyxNQUFNLENBQUMsS0FBSyxDQUFRO0lBRTVCLE1BQU07SUFDTixZQUFZLFVBQW9CO1FBRS9CLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNsQixTQUFTLENBQUMsS0FBSyxLQUFLLElBQUksS0FBSyxDQUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUM7SUFDakQsQ0FBQztJQUVELE1BQU07SUFDTixLQUFLLENBQUMsUUFBUTtRQUViLE9BQU8sTUFBTSxTQUFTLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBUyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDckQsQ0FBQztJQUVELE1BQU07SUFDTixLQUFLLENBQUMsVUFBVTtRQUVmLE1BQU0sS0FBSyxHQUFHLE1BQU0sU0FBUyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ25ELE9BQU8sS0FBSyxZQUFZLFdBQVcsQ0FBQyxDQUFDO1lBQ3BDLEtBQUssQ0FBQyxDQUFDO1lBQ1AsSUFBSSxXQUFXLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUVELE1BQU07SUFDTixLQUFLLENBQUMsYUFBYTtRQUVsQixNQUFNLEtBQUssR0FBVyxFQUFFLENBQUM7UUFDekIsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLE1B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QUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUM7QUFDNUUsQ0FBQyxFQUpTLFNBQVMsS0FBVCxTQUFTLFFBSWxCIiwic291cmNlc0NvbnRlbnQiOlsiXG5jbGFzcyBGaWxhS2V5dmEgZXh0ZW5kcyBGaWxhXG57XG5cdC8qKiAqL1xuXHRzdGF0aWMgdXNlKClcblx0e1xuXHRcdGlmICh0eXBlb2YgS2V5dmEgPT09IFwidW5kZWZpbmVkXCIpXG5cdFx0XHR0aHJvdyBcIkNhbm5vdCB1c2UgRmlsZUtleXZhIGJlY2F1c2UgS2V5dmEgbGlicmFyeSB3YXMgbm90IGZvdW5kXCI7XG5cdFx0XG5cdFx0RmlsYS5zZXREZWZhdWx0cyhGaWxhS2V5dmEsIFwiL1wiLCBcIi9cIiwgXCIvX190ZW1wL1wiKTtcblx0fVxuXHRcblx0cHJpdmF0ZSBzdGF0aWMga2V5dmE6IEtleXZhO1xuXHRcblx0LyoqICovXG5cdGNvbnN0cnVjdG9yKGNvbXBvbmVudHM6IHN0cmluZ1tdKVxuXHR7XG5cdFx0c3VwZXIoY29tcG9uZW50cyk7XG5cdFx0RmlsYUtleXZhLmtleXZhIHx8PSBuZXcgS2V5dmEoeyBuYW1lOiBcImZpbGFcIiB9KTtcblx0fVxuXHRcblx0LyoqICovXG5cdGFzeW5jIHJlYWRUZXh0KClcblx0e1xuXHRcdHJldHVybiBhd2FpdCBGaWxhS2V5dmEua2V5dmEuZ2V0PHN0cmluZz4odGhpcy5wYXRoKTtcblx0fVxuXHRcblx0LyoqICovXG5cdGFzeW5jIHJlYWRCaW5hcnkoKTogUHJvbWlzZTxBcnJheUJ1ZmZlcj5cblx0e1xuXHRcdGNvbnN0IHZhbHVlID0gYXdhaXQgRmlsYUtleXZhLmtleXZhLmdldCh0aGlzLnBhdGgpO1xuXHRcdHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyID9cblx0XHRcdHZhbHVlIDpcblx0XHRcdG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh2YWx1ZSk7XG5cdH1cblx0XG5cdC8qKiAqL1xuXHRhc3luYyByZWFkRGlyZWN0b3J5KClcblx0e1xuXHRcdGNvbnN0IGZpbGFzOiBGaWxhW10gPSBbXTtcblx0XHRjb25zdCByYW5nZSA9IEtleXZhLnByZWZpeCh0aGlzLnBhdGggKyBcIi9cIik7XG5cdFx0Y29uc3QgY29udGVudHMgPSBhd2FpdCBGaWxhS2V5dmEua2V5dmEuZWFjaCh7IHJhbmdlIH0sIFwia2V5c1wiKTtcblx0XHRcblx0XHRmb3IgKGNvbnN0IGtleSBvZiBjb250ZW50cylcblx0XHRcdGlmICh0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiKVxuXHRcdFx0XHRmaWxhcy5wdXNoKEZpbGEubmV3KGtleSkpO1xuXHRcdFxuXHRcdHJldHVybiBmaWxhcztcblx0fVxuXHRcblx0LyoqICovXG5cdGFzeW5jIHdyaXRlVGV4dCh0ZXh0OiBzdHJpbmcsIG9wdGlvbnM/OiBGaWxhLklXcml0ZVRleHRPcHRpb25zKVxuXHR7XG5cdFx0bGV0IGN1cnJlbnQgPSB0aGlzLnVwKCk7XG5cdFx0Y29uc3QgbWlzc2luZ0ZvbGRlcnM6IEZpbGFbXSA9IFtdO1xuXHRcdFxuXHRcdGZvciAoOzspXG5cdFx0e1xuXHRcdFx0aWYgKGF3YWl0IGN1cnJlbnQuZXhpc3RzKCkpXG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0XG5cdFx0XHRtaXNzaW5nRm9sZGVycy5wdXNoKGN1cnJlbnQpO1xuXHRcdFx0XG5cdFx0XHRpZiAoY3VycmVudC51cCgpLnBhdGggPT09IGN1cnJlbnQucGF0aClcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcblx0XHRcdGN1cnJlbnQgPSBjdXJyZW50LnVwKCk7XG5cdFx0fVxuXHRcdFxuXHRcdGZvciAoY29uc3QgZm9sZGVyIG9mIG1pc3NpbmdGb2xkZXJzKVxuXHRcdFx0YXdhaXQgZm9sZGVyLndyaXRlRGlyZWN0b3J5KCk7XG5cdFx0XG5cdFx0aWYgKG9wdGlvbnM/LmFwcGVuZClcblx0XHRcdHRleHQgPSAoXCJcIiArIChhd2FpdCBGaWxhS2V5dmEua2V5dmEuZ2V0KHRoaXMucGF0aCkgfHwgXCJcIikpICsgdGV4dDtcblx0XHRcblx0XHRhd2FpdCBGaWxhS2V5dmEua2V5dmEuc2V0KHRoaXMucGF0aCwgdGV4dCk7XG5cdH1cblx0XG5cdC8qKiAqL1xuXHRhc3luYyB3cml0ZUJpbmFyeShhcnJheUJ1ZmZlcjogQXJyYXlCdWZmZXIpXG5cdHtcblx0XHRhd2FpdCBGaWxhS2V5dmEua2V5dmEuc2V0KHRoaXMucGF0aCwgYXJyYXlCdWZmZXIpO1xuXHR9XG5cdFxuXHQvKiogKi9cblx0YXN5bmMgd3JpdGVEaXJlY3RvcnkoKVxuXHR7XG5cdFx0aWYgKGF3YWl0IHRoaXMuaXNEaXJlY3RvcnkoKSlcblx0XHRcdHJldHVybjtcblx0XHRcblx0XHRpZiAoYXdhaXQgdGhpcy5leGlzdHMoKSlcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkEgZmlsZSBhbHJlYWR5IGV4aXN0cyBhdCB0aGlzIGxvY2F0aW9uLlwiKTtcblx0XHRcblx0XHRhd2FpdCBGaWxhS2V5dmEua2V5dmEuc2V0KHRoaXMucGF0aCwgbnVsbCk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBXcml0ZXMgYSBzeW1saW5rIGZpbGUgYXQgdGhlIGxvY2F0aW9uIHJlcHJlc2VudGVkIGJ5IHRoZSBzcGVjaWZpZWRcblx0ICogRmlsYSBvYmplY3QsIHRvIHRoZSBsb2NhdGlvbiBzcGVjaWZpZWQgYnkgdGhlIGN1cnJlbnQgRmlsYSBvYmplY3QuXG5cdCAqL1xuXHRhc3luYyB3cml0ZVN5bWxpbmsoYXQ6IEZpbGEpXG5cdHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIik7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBEZWxldGVzIHRoZSBmaWxlIG9yIGRpcmVjdG9yeSB0aGF0IHRoaXMgRmlsYSBvYmplY3QgcmVwcmVzZW50cy5cblx0ICovXG5cdGFzeW5jIGRlbGV0ZSgpOiBQcm9taXNlPEVycm9yIHwgdm9pZD5cblx0e1xuXHRcdGlmIChhd2FpdCB0aGlzLmlzRGlyZWN0b3J5KCkpXG5cdFx0e1xuXHRcdFx0Y29uc3QgcmFuZ2UgPSBLZXl2YS5wcmVmaXgodGhpcy5wYXRoICsgXCIvXCIpO1xuXHRcdFx0YXdhaXQgRmlsYUtleXZhLmtleXZhLmRlbGV0ZShyYW5nZSk7XG5cdFx0fVxuXHRcdFxuXHRcdGF3YWl0IEZpbGFLZXl2YS5rZXl2YS5kZWxldGUodGhpcy5wYXRoKTtcblx0fVxuXHRcblx0LyoqICovXG5cdGFzeW5jIG1vdmUodGFyZ2V0OiBGaWxhKVxuXHR7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkLlwiKTtcblx0fVxuXHRcblx0LyoqICovXG5cdGFzeW5jIGNvcHkodGFyZ2V0OiBGaWxhKVxuXHR7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkLlwiKTtcblx0fVxuXHRcblx0LyoqICovXG5cdHByb3RlY3RlZCB3YXRjaFByb3RlY3RlZChcblx0XHRyZWN1cnNpdmU6IGJvb2xlYW4sXG5cdFx0Y2FsbGJhY2tGbjogKGV2ZW50OiBGaWxhLkV2ZW50LCBmaWxhOiBGaWxhLCBzZWNvbmRhcnlGaWxhPzogRmlsYSkgPT4gdm9pZClcblx0e1xuXHRcdHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKTtcblx0XHRyZXR1cm4gKCkgPT4ge307XG5cdH1cblx0XG5cdC8qKiAqL1xuXHRhc3luYyByZW5hbWUobmV3TmFtZTogc3RyaW5nKVxuXHR7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkLlwiKTtcblx0fVxuXHRcblx0LyoqICovXG5cdGFzeW5jIGV4aXN0cygpXG5cdHtcblx0XHRjb25zdCB2YWx1ZSA9IGF3YWl0IEZpbGFLZXl2YS5rZXl2YS5nZXQodGhpcy5wYXRoKTtcblx0XHRyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZDtcblx0fVxuXHRcblx0LyoqICovXG5cdGFzeW5jIGdldFNpemUoKVxuXHR7XG5cdFx0cmV0dXJuIDA7XG5cdH1cblx0XG5cdC8qKiAqL1xuXHRhc3luYyBnZXRNb2RpZmllZFRpY2tzKClcblx0e1xuXHRcdHJldHVybiAwO1xuXHR9XG5cdFxuXHQvKiogKi9cblx0YXN5bmMgZ2V0Q3JlYXRlZFRpY2tzKClcblx0e1xuXHRcdHJldHVybiAwO1xuXHR9XG5cdFxuXHQvKiogKi9cblx0YXN5bmMgZ2V0QWNjZXNzZWRUaWNrcygpXG5cdHtcblx0XHRyZXR1cm4gMDtcblx0fVxuXHRcblx0LyoqICovXG5cdGFzeW5jIGlzRGlyZWN0b3J5KClcblx0e1xuXHRcdHJldHVybiBhd2FpdCBGaWxhS2V5dmEua2V5dmEuZ2V0KHRoaXMucGF0aCkgPT09IG51bGw7XG5cdH1cbn1cblxubmFtZXNwYWNlIEZpbGFLZXl2YVxue1xuXHRkZWNsYXJlIGNvbnN0IG1vZHVsZTogYW55O1xuXHR0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiICYmIE9iamVjdC5hc3NpZ24obW9kdWxlLmV4cG9ydHMsIHsgRmlsYUtleXZhIH0pO1xufSJdfQ==